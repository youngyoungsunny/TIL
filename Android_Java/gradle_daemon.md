### Gradle 의 장점과 단점
- Gradle은 JVM기반의 빌드 도구이자 강력한 의존성 관리 시스템이다. 
- Maven, Ant 보다 빌드 로직을 커스터마이즈하기 더 편하고 같은 코드 베이스에서 여러 버전의 앱을 빌드할 수도 있음.
- 하지만 빌드 시간이 꽤나 많이 걸리는 문제가 있다. Gradle 버전이 올라가면서 빌드 시간을 단축시키는 성능도 같이 향상되었지만 설정을 잘만 이용하면 더 효율적으로 빌드 할 수 있음.

--------------------------------------------------------


### 빌드 시간 줄이기 5단계
- 첫째, Gradle Daemon 사용 : 데몬은 Gradle이 일어나는 인스턴스를 유지하고 빌드가 끝난뒤에도 사라지지 않고 백그라운드에서 대기한다. 즉, Gradle을 빌드할 때마다 초기화해야 하는 시간을 단축할 수 있다. 
~~~
org.gradle.daemon=true
~~~~


- 둘째, Parallel Project Execution : 서브 모듈이 많을 수록 효과적인 방법이다. 빌드할 때 각 모듈이 동시에 빌드할 수 있도록 설정한다.
~~~ 
org.gradle.parallel=true 
~~~

- 셋째, on demand로 프로젝트 설정 : Gradle은 일반적으로 프로젝트가 특정 빌드 결과물을 필요한지 여부와 상관없이 모든 프로젝트 Task를 설정한다.
온디맨드로 요구하는 프로젝트만 설정한다면 현재 필요하지 않는 프로젝트를 빌드하지 않음으로써 빌드 시간을 단축할 수 있다. 이 설정 역시 멀티 모듈 빌드에 효과적이다.

- 넷째, 힙 사이즈 증가시키기 : 안드로이드 스튜디오 2.0 버전 이후부터는 dex를 프로세스에서 사용해 빌드 시간을 줄인다. 프로세스에서 dex를 사용한다는 것은 하나의 VM에서 여러개의 dex프로세스를 실행하는 것으로 빌드 시간을 줄이는 반면 더 큰 메모리를 요구한다. 즉, 힙 사이즈를 조금 키우는 것이 효과적일 수 있다. 기본 데몬을 위한 힙 사이즈는 1GB이기 때문에 gradle.properties에서 다음과 같이 높일 수 있다.
~~~
org.gradle.jvmargs=-Xmx3072m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8
~~~
위에서는 3GB로 설정한 것으로 적합한 힙사이즈는 각자의 기기에서 테스트 해보아야 한다. 

- 다섯째, lint 제거하기 : 아무것도 설정하지 않았을 때 lint에 들이는 시간은 꽤 비싸므로, 점진적 빌드에서 매번 린트 체크를 할 필요가 없다면 제거하는 것이 좋음!
-  build.gradle에서 다음과 같이 설정하면 된다.
~~~
tasks.whenTaskAdded { task ->
  if(task.name.equals("lint")) {
    task.enabled = false
  }
}
~~~~
